sudo: required
services:
- docker
script:
- export BRANCH=$(if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then echo $TRAVIS_BRANCH;
  else echo $TRAVIS_PULL_REQUEST_BRANCH; fi)
- docker run -t --network="host" -d -e TRAVIS='true' -v $(pwd):/code:rw --name frc-testing-image
  team5419/frc-testing-image:frc2019; docker run -d --network="host" --shm-size=2g
  selenium/standalone-chrome:3.141.59-gold; docker exec frc-testing-image /code/gradlew
  -p /code test webdriverTest jacocoTestReport
after_success:
- if [ "$BRANCH" == "master" ]; then docker run -t -d -v $(pwd):/code:rw --name frc-testing-image-java8
  team5419/frc-testing-image; docker exec frc-testing-image-java8 /code/gradlew -p
  /code dokkaJavadoc; fi
- if [ "$BRANCH" == "master" ]; then docker exec frc-testing-image /code/gradlew -p
  /code publishToTeamRepo --username=$USERNAME --password=$PASSWORD --url=$URL; fi
- bash <(curl -s https://codecov.io/bash)
env:
  global:
  - secure: Mhk22dWWynv/PkgqXMM0Eq6qUFzK3xbkAxmCIuw8J2Kul6hnoI8frbiP+t2Qy1eExxGnGmBlGjKjrymcjyLf6bVlI9Y7Nv1WmMy6hRHRinD3e1P6EA8erR9eO7fXP2V/W1Uy6hjbS0dnWPpPG7JlDLs/hMPM0+ZLjN97H87PcN/UMpVsIKaUnKvUHQtV0xh0djtHECi9xmHA84kigkVSiS2LM4cnsJlyWiS9yrZdBlRac2t1UARFv9LuxDxbXMot6lj7MMXX2cWYkvSSqhnfGdFEqMMKANuCzWiFUulpjS/963OHSGd1rWg9Iq4tbhVFPHHP/NQNmAV2zVEff28yCBGHTPjM1jd7fG2AI8vs55o1FWTvtrFZDE5hCKp5el2kfbEZaozsPoGB0IgEequUlve/DBw3Ndi+h48TDTC9ycwYG1fomg1Zczov3REKGvSDXXn7x4R2vS6KotImB6NpbR9PKi92S58lx7fcW2HbzItjGZi15mtEzDBwtKX+Mt7ZBnvJGSmayG6NHiT7ZktnL1iUr1k9pasPqEqrC0kX3oOObiZm7UPL7q4MGW7/AQKQ/UEOMvGX6NxU81x5OAjciTZBTTseS9L8IjLhr+OyxM4M+mgfhze+mmq8ZjB0PFqra+r9R/laziLhWmZleZgFOoYhGGD0pPO2uutZ7oNU2XQ=
  - secure: flWUostwvOMu7OAvyXfiaWaipVKaio4+bMIvI9MqBZ1cMxQxwlEfubarqzH9a1O4+Vw5fiq7gPPmxsv3xuEoEoinkGWx18dCf4BwZtCHvULsLRxGPtmAXOqHzROj03A3lEewU3//ZdVsaynDwp90ZxgqdkIo1Q8Zm78M9Yu9yymnQCkd07mjpNpgjxiTZI+nP+5LiEItmmQ5PVf3EKRfg38WZQYHNhkNQwMAF3kmltMGtf6pKrScV03oiTQq/yXoKpyoEH0cN5FLqolQB7MkTHyv12trBotIr6x61WQNCoQLk4lpyNgjV18KPL9KHsl2RsjCzLg1llatjaCjyKtOQcHv58jsShibm3jXWlxOvTYXaopC/j42gFhcl5/AvvOxqimPhGJNfEXdb3eoMxJUDWgSn9EghLOOY/z1JIFH2LXTkLs7Y/GMAMwO6eqgEBHricCxefDRjAPQyPrBNQbBEBGqnNvoPkYs95Z47fNZrwBYGYfE3XxTpwxHei4g3q4DXGOJyYz4LzmuoqKYjumkhHRQduqpd0jzeOFIqdvC3O5eB09VpJu12SgDEoD12Xt7CG9NBUk7SIBZ9b+BhdQm8xSTkBJAWLFGI2nxWZtxJtuGgoRc5RpZSLF1oWgUS6AlFLrHt0tB2dng9D2R9qfjNWf6hNuwQ9eppTuG7DFaBZ4=
  - secure: hQtfu69f6mlGTUTMEn1yUjoI8gJP4dSnQrX1sheXVC/oxot0XQv4oFeSa4DVhQJHCCYzcBnHG9uYgZxQOmzLR7hV21UEINzenuE+8WroTWYrfZUJHfwUTziZDdPu8bXqkW+wN2ufmxW487zTLL8bWPUdpTopF3G3JCCi+Gevi4+XAOVU/j6RCwJJ1CXXqpVdIb0Lybm62eht9gmylkKWrevZXo0plEEu5qfZqKarWn8Em8br74uYRLTXH7bu4kBC8VlEMS/SAZNjM+Zpesp7XL5mapTB0NgAc83UE4une5wRljmFkId3KIRMm1pQXgJBdg0xCB5QxaVL0TtAf+FuiEX/zMIHqir4CTHM1wmsI0wjkfrs8aVWXyvqcjaGsPlxniXuztLIWCt84PU3fBt3JjyyAcP8DGDCGiM+mC7TppmD3sKGj83qvQHwZ4fsb36SV2xMi7N3y3F5ouofd2ZEtNSakGCYrMmrwjO7z358nyPjniluTfvvelX5Tdtuqlahl3JkXZ856yojCFO9XST0VZNSoAOm7onBDlKqUO+Vr2CojumVKtIsYtcRMoqv0wkBibZA1HilDKyDPIlTHzS2XX/8qHYRvZ9B0Z8QhcfeWW+88Tqs1LN6VZrJ9k2Mff8HfqhL7/P0emVM+gYcPnM9IzZ4Ht9EVR5rCmJoOVtnUxg=
